<<<<<<< HEAD
{"version":3,"sources":["uni-app:///uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue","webpack:///D:/front-end/coding/uniapp/同心抗疫/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?78bf","webpack:///D:/front-end/coding/uniapp/同心抗疫/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?bc92","webpack:///D:/front-end/coding/uniapp/同心抗疫/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?9068","webpack:///D:/front-end/coding/uniapp/同心抗疫/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?c365","webpack:///D:/front-end/coding/uniapp/同心抗疫/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?48c5","webpack:///D:/front-end/coding/uniapp/同心抗疫/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?8841"],"names":[],"mappings":"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","file":"uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.js","sourcesContent":["<template>\r\n\t<view>\r\n\t\t<view class=\"fab-login-box\">\r\n\t\t\t<view class=\"item\" v-for=\"(item,index) in servicesList\" :key=\"index\"\r\n\t\t\t\t@click=\"item.path?navigateTo(item.path):login_before(item.id,false)\">\r\n\t\t\t\t<image class=\"logo\" :src=\"item.logo\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t<text class=\"login-title\">{{item.text}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<uni-id-pages-user-profile @next=\"doUserProfileNext\" ref=\"userProfile\"></uni-id-pages-user-profile>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport config from '@/uni_modules/uni-id-pages/config.js'\r\n\t//前一个窗口的页面地址。控制点击切换快捷登录方式是创建还是返回\n\timport {\n\t\t\tstore,\n\t\t\tmutations\n\t\t} from '@/uni_modules/uni-id-pages/common/store.js'\n\t\n\tconst db = uniCloud.database();\r\n\tconst usersTable = db.collection('uni-id-users')\r\n\tlet allServicesList = []\n\t\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\tagreements() {\r\n\t\t\t\tif (!config.agreements) {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tserviceUrl,\r\n\t\t\t\t\tprivacyUrl\r\n\t\t\t\t} = config.agreements\r\n\t\t\t\treturn [{\r\n\t\t\t\t\t\turl: serviceUrl,\r\n\t\t\t\t\t\ttitle: \"用户服务协议\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turl: privacyUrl,\r\n\t\t\t\t\t\ttitle: \"隐私政策条款\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tagree: {\r\n\t\t\t\tget() {\n\t\t\t\t\treturn this.getParentComponent().agree\r\n\t\t\t\t},\r\n\t\t\t\tset(agree) {\n\t\t\t\t\tconsole.log('setAgree', agree);\n\t\t\t\t\treturn this.getParentComponent().agree = agree\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tservicesList: [{\r\n\t\t\t\t\t\t\"id\": \"username\",\r\n\t\t\t\t\t\t\"text\": \"账号登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/user.png\",\r\n\t\t\t\t\t\t\"path\": \"/uni_modules/uni-id-pages/pages/login/login-withpwd\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"smsCode\",\r\n\t\t\t\t\t\t\"text\": \"短信验证码\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/sms.png\",\r\n\t\t\t\t\t\t\"path\": \"/uni_modules/uni-id-pages/pages/login/login-withoutpwd?type=smsCode\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"weixin\",\r\n\t\t\t\t\t\t\"text\": \"微信登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/weixin.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"apple\",\r\n\t\t\t\t\t\t\"text\": \"苹果登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/apple.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"univerify\",\r\n\t\t\t\t\t\t\"text\": \"一键登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/univerify.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"taobao\",\r\n\t\t\t\t\t\t\"text\": \"淘宝登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/taobao.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"facebook\",\r\n\t\t\t\t\t\t\"text\": \"脸书登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/facebook.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"alipay\",\r\n\t\t\t\t\t\t\"text\": \"支付宝登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/alipay.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"qq\",\r\n\t\t\t\t\t\t\"text\": \"QQ登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/qq.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"google\",\r\n\t\t\t\t\t\t\"text\": \"谷歌登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/google.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"douyin\",\r\n\t\t\t\t\t\t\"text\": \"抖音登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/douyin.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"sinaweibo\",\r\n\t\t\t\t\t\t\"text\": \"新浪微博\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/sinaweibo.png\",\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tuniverifyStyle: { //一键登录弹出窗的样式配置参数\r\n\t\t\t\t\t\"fullScreen\": true, // 是否全屏显示，true表示全屏模式，false表示非全屏模式，默认值为false。\r\n\t\t\t\t\t\"backgroundColor\": \"#ffffff\", // 授权页面背景颜色，默认值：#ffffff\r\n\t\t\t\t\t\"buttons\": { // 自定义登录按钮\r\n\t\t\t\t\t\t\"iconWidth\": \"45px\", // 图标宽度（高度等比例缩放） 默认值：45px\r\n\t\t\t\t\t\t\"list\": []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"privacyTerms\": {\r\n\t\t\t\t\t\t\"defaultCheckBoxState\": false, // 条款勾选框初始状态 默认值： true   \r\n\t\t\t\t\t\t\"textColor\": \"#BBBBBB\", // 文字颜色 默认值：#BBBBBB  \r\n\t\t\t\t\t\t\"termsColor\": \"#5496E3\", //  协议文字颜色 默认值： #5496E3  \r\n\t\t\t\t\t\t\"prefix\": \"我已阅读并同意\", // 条款前的文案 默认值：“我已阅读并同意”  \r\n\t\t\t\t\t\t\"suffix\": \"并使用本机号码登录\", // 条款后的文案 默认值：“并使用本机号码登录”  \r\n\t\t\t\t\t\t\"privacyItems\": []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tagree(agree) {\r\n\t\t\t\tthis.univerifyStyle.privacyTerms.defaultCheckBoxState = agree\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tlet servicesList = this.servicesList\r\n\t\t\tlet loginTypes = config.loginTypes\r\n\r\n\t\t\tservicesList = servicesList.filter(item => {\r\n\t\t\t\t\r\n\t\t\t\t// #ifndef APP\r\n\t\t\t\t//非app端去掉apple登录\r\n\t\t\t\tif (item.id == 'apple') {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef APP\r\n\t\t\t\t//去掉非ios系统上的apple登录\r\n\t\t\t\tif (item.id == 'apple' && uni.getSystemInfoSync().osName != 'ios') {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\treturn loginTypes.includes(item.id)\r\n\t\t\t})\r\n\t\t\t//处理一键登录\r\n\t\t\tif (loginTypes.includes('univerify')) {\r\n\t\t\t\tthis.univerifyStyle.privacyTerms.privacyItems = this.agreements\r\n\t\t\t\t//设置一键登录功能底下的快捷登录按钮\r\n\t\t\t\tservicesList.forEach(({\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tlogo,\r\n\t\t\t\t\tpath\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tif (id != 'univerify') {\r\n\t\t\t\t\t\tthis.univerifyStyle.buttons.list.push({\r\n\t\t\t\t\t\t\t\"iconPath\": logo,\r\n\t\t\t\t\t\t\t\"provider\": id,\r\n\t\t\t\t\t\t\tpath //路径用于点击快捷按钮时判断是跳转页面\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t//\tconsole.log(servicesList);\r\n\r\n\t\t\t//去掉当前页面对应的登录选项\r\n\t\t\tthis.servicesList = servicesList.filter(item => {\r\n\t\t\t\tlet path = item.path ? item.path.split('?')[0] : '';\r\n\t\t\t\treturn path != this.getRoute(1)\r\n\t\t\t})\r\n\t\t\t//console.log('servicesList', servicesList, this.servicesList);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetParentComponent(){\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\treturn this.$parent;\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\treturn this.$parent.$parent;\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tsetUserInfo(e) {\r\n\t\t\t\tconsole.log('setUserInfo', e);\r\n\t\t\t},\r\n\t\t\tgetRoute(n = 0) {\r\n\t\t\t\tlet pages = getCurrentPages();\r\n\t\t\t\t// console.log('route-pages-length', pages.length);\r\n\t\t\t\tif (n > pages.length) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t\treturn '/' + pages[pages.length - n].route\r\n\t\t\t},\r\n\t\t\tnavigateTo(path) {\r\n\t\t\t\t//console.log('比较', this.getRoute(1),this.getRoute(2), path)\r\n\t\t\t\tif (this.getRoute(1) == path.split('?')[0] && this.getRoute(1) ==\r\n\t\t\t\t\t'/uni_modules/uni-id-pages/pages/login/login-withoutpwd') {\r\n\t\t\t\t\t//如果要被打开的页面已经打开，且这个页面是 /uni_modules/uni-id-pages/pages/index/index 则把类型参数传给他\r\n\t\t\t\t\tlet type = path.split('?')[1].split('=')[1]\r\n\t\t\t\t\tuni.$emit('uni-id-pages-set-login-type', type)\r\n\t\t\t\t} else if (this.getRoute(2) == path) { // 如果上一个页面就是，马上要打开的页面，直接返回。防止重复开启\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t} else if (this.getRoute(1) != path) {\r\n\t\t\t\t\t//console.log(3);\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: path,\r\n\t\t\t\t\t\tanimationType: 'slide-in-left',\r\n\t\t\t\t\t\tcomplete(e) {\r\n\t\t\t\t\t\t\t// console.log(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('出乎意料的情况,path：' + path);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync login_before(type, navigateBack = true) {\r\n\t\t\t\tconsole.log(type);\n\t\t\t\t//提示空实现\r\n\t\t\t\tif ([\"qq\",\r\n\t\t\t\t\t\t\"xiaomi\",\r\n\t\t\t\t\t\t\"sinaweibo\",\r\n\t\t\t\t\t\t\"taobao\",\r\n\t\t\t\t\t\t\"facebook\",\r\n\t\t\t\t\t\t\"google\",\r\n\t\t\t\t\t\t\"alipay\",\r\n\t\t\t\t\t\t\"douyin\",\r\n\t\t\t\t\t].includes(type)) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '该登录方式暂未实现，欢迎提交pr',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//检查当前环境是否支持这种登录方式\r\n\t\t\t\t// #ifdef APP\r\n\t\t\t\tlet isAppExist = true\r\n\t\t\t\tawait new Promise((callback) => {\r\n\t\t\t\t\tplus.oauth.getServices(oauthServices => {\r\n\t\t\t\t\t\tlet index = oauthServices.findIndex(e => e.id == type)\r\n\t\t\t\t\t\tif(index != -1){\r\n\t\t\t\t\t\t\tisAppExist = oauthServices[index].nativeClient\r\n\t\t\t\t\t\t\tcallback()\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '当前设备不支持此登录，请选择其他登录方式',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\tthrow new Error('获取服务供应商失败：' + JSON.stringify(err))\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\t// #ifdef APP\r\n\t\t\t\t\t!isAppExist\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\t//非app端使用了，app特有登录方式\r\n\t\t\t\t\t// #ifndef APP\r\n\t\t\t\t\t[\"univerify\",\"apple\"].includes(type)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '当前设备不支持此登录，请选择其他登录方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//判断是否需要弹出隐私协议授权框\r\n\t\t\t\tconsole.log(type, this.agree);\n\t\t\t\tlet needAgreements = (config?.agreements?.scope || []).includes('register')\n\t\t\t\tconsole.log({\r\n\t\t\t\t\tneedAgreements\r\n\t\t\t\t});\r\n\t\t\t\tif (type != 'univerify' && needAgreements && !this.agree) {\n\t\t\t\t\tlet agreementsRef = this.getParentComponent().$refs.agreements\r\n\t\t\t\t\treturn agreementsRef.popup(() => {\n\t\t\t\t\t\tconsole.log(type, navigateBack);\r\n\t\t\t\t\t\tthis.login_before(type, navigateBack)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// #ifdef H5\n\t\t\t\t\tif(type == 'weixin'){\n\t\t\t\t\t\t// console.log('开始微信网页登录');\n\t\t\t\t\t\tlet redirectUrl = location.protocol +'//'+ \n\t\t\t\t\t\t\t\t\t\tdocument.domain + \n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes('#')?'/#':'') +\n\t\t\t\t\t\t\t\t\t\t'/uni_modules/uni-id-pages/pages/login/login-withoutpwd?is_weixin_redirect=true&type=weixin'\n\t\t\t\t\t\tconsole.log('redirectUrl----',redirectUrl);\n\t\t\t\t\t\tlet ua = window.navigator.userAgent.toLowerCase();\n\t\t\t\t\t\tif (ua.match(/MicroMessenger/i) == 'micromessenger'){\n\t\t\t\t\t\t\t// console.log('在微信公众号内');\n\t\t\t\t\t\t\treturn window.open(`https://open.weixin.qq.com/connect/oauth2/authorize?\n\t\t\t\t\t\t\t\t\t\tappid=${config.appid.weixin.h5}\n\t\t\t\t\t\t\t\t\t\t&redirect_uri=${encodeURIComponent(redirectUrl)}\n\t\t\t\t\t\t\t\t\t\t&response_type=code\n\t\t\t\t\t\t\t\t\t\t&scope=snsapi_userinfo\n\t\t\t\t\t\t\t\t\t\t&state=STATE&connect_redirect=1#wechat_redirect`);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t// console.log('非微信公众号内');\n\t\t\t\t\t\t\treturn location.href = `https://open.weixin.qq.com/connect/qrconnect?appid=${config.appid.weixin.web}\n\t\t\t\t\t\t\t\t\t\t\t&redirect_uri=${encodeURIComponent(redirectUrl)}\n\t\t\t\t\t\t\t\t\t\t\t&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect`\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tif (type == 'univerify') {\r\n\t\t\t\t\tlet univerifyManager = uni.getUniverifyManager()\r\n\t\t\t\t\tlet onButtonsClickFn = async res => {\r\n\t\t\t\t\t\tconsole.log('点击了第三方登录，provider：', res, res.provider, this.univerifyStyle.buttons.list);\r\n\t\t\t\t\t\t//同步一键登录弹出层隐私协议框是否打勾\r\n\t\t\t\t\t\tlet agree = (await uni.getCheckBoxState())[1].state\r\n\t\t\t\t\t\t//console.log('agree',agree);\r\n\t\t\t\t\t\tthis.agree = agree\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tpath\r\n\t\t\t\t\t\t} = this.univerifyStyle.buttons.list[res.index]\r\n\t\t\t\t\t\tif (path) {\r\n\t\t\t\t\t\t\tthis.navigateTo(path)\r\n\t\t\t\t\t\t\tcloseUniverify()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (agree) {\r\n\t\t\t\t\t\t\t\tcloseUniverify()\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t//console.log('login_before');\r\n\t\t\t\t\t\t\t\t\tthis.login_before(res.provider)\r\n\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//console.log(\"你未同意隐私政策协议\");\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"你未同意隐私政策协议\",\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction closeUniverify() {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuniverifyManager.close()\r\n\t\t\t\t\t\t// 取消订阅自定义按钮点击事件\r\n\t\t\t\t\t\tuniverifyManager.offButtonsClick(onButtonsClickFn)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 订阅自定义按钮点击事件\r\n\t\t\t\t\tuniverifyManager.onButtonsClick(onButtonsClickFn)\r\n\t\t\t\t\t// 调用一键登录弹框\r\n\t\t\t\t\treturn univerifyManager.login({\r\n\t\t\t\t\t\t\"univerifyStyle\": this.univerifyStyle,\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tconsole.log('login success', res)\r\n\t\t\t\t\t\t\tthis.login(res.authResult, 'univerify')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: JSON.stringify(err),\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: async e => {\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t//同步一键登录弹出层隐私协议框是否打勾\r\n\t\t\t\t\t\t\tthis.agree = (await uni.getCheckBoxState())[1].state\r\n\t\t\t\t\t\t\t// 取消订阅自定义按钮点击事件\r\n\t\t\t\t\t\t\tuniverifyManager.offButtonsClick(onButtonsClickFn)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\t\"provider\": type,\r\n\t\t\t\t\t\"onlyAuthorize\": true,\r\n\t\t\t\t\t// #ifdef APP\r\n\t\t\t\t\t\"univerifyStyle\": this.univerifyStyle,\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tsuccess: async e => {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\tif (type == 'apple') {\r\n\t\t\t\t\t\t\tlet res = await this.getUserInfo({\r\n\t\t\t\t\t\t\t\tprovider: \"apple\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tObject.assign(e.authResult, res.userInfo)\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.login(type == 'weixin' ? {\r\n\t\t\t\t\t\t\tcode: e.code\r\n\t\t\t\t\t\t} : e.authResult, type)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: async (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlogin(params, type) { //联网验证登录\n\t\t\t\tconsole.log('执行登录开始----');\r\n\t\t\t\tconsole.log({\r\n\t\t\t\t\tparams,\r\n\t\t\t\t\ttype\r\n\t\t\t\t});\r\n\t\t\t\t//toLowerCase\r\n\t\t\t\tlet action = 'loginBy' + type.trim().toLowerCase().replace(type[0], type[0].toUpperCase())\r\n\t\t\t\tconst uniIdCo = uniCloud.importObject(\"uni-id-co\",{\r\n\t\t\t\t\tcustomUI:true\r\n\t\t\t\t})\r\n\t\t\t\tuniIdCo[action](params).then(result => {\r\n\t\t\t\t\tconsole.log(\"login-result\", result);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t//如果是微信小程序端的微信登录，且为首次登录，就弹出获取微信昵称+头像用于绑定资料\r\n\t\t\t\t\tif (type == 'weixin' && result.type == \"register\") {\n\t\t\t\t\t\tmutations.loginSuccess({\r\n\t\t\t\t\t\t\t...result,\r\n\t\t\t\t\t\t\tshowToast: false,\r\n\t\t\t\t\t\t\tautoBack: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn this.$refs.userProfile.open(result.uid)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tresult.loginType = type\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tmutations.loginSuccess(result)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e=>{\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: e.message,\r\n\t\t\t\t\t\tconfirmText:\"知道了\",\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.finally(e => {\r\n\t\t\t\t\tif (type == 'univerify') {\r\n\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoUserProfileNext() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmutations.loginSuccess()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getUserInfo(e) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\t...e,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: JSON.stringify(err),\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/* #ifndef APP-NVUE */\r\n\t.fab-login-box,\r\n\t.item {\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t.fab-login-box {\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 750rpx;\r\n\t\tjustify-content: space-around;\r\n\t\tposition: fixed;\n\t\tleft: 0;\r\n\t}\r\n\t\r\n\t.item {\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 200rpx;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t/* #ifndef APP-NVUE */\r\n\t@media screen and (min-width: 690px) {\r\n\t\t.fab-login-box {\r\n\t\t\tmax-width: 500px;\r\n\t\t\tmargin-left: calc(50% - 250px);\r\n\t\t}\r\n\t\t.item {\r\n\t\t\theight: 160rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t@media screen and (max-width: 690px) {\r\n\t\t.fab-login-box {\r\n\t\t\tbottom: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t\n\r\n\t.logo {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmax-width: 40px;\r\n\t\tmax-height: 40px;\r\n\t\tborder-radius: 100%;\r\n\t\tborder: solid 1px #F6F6F6;\r\n\t}\r\n\r\n\r\n\t.login-title {\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 6px;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 10px;\r\n\t\twidth: 70px;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-id-pages-fab-login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-id-pages-fab-login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1665235280164\n      var cssReload = require(\"D:/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./uni-id-pages-fab-login.vue?vue&type=template&id=5810e2be&\"\nvar renderjs\nimport script from \"./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uni-id-pages-fab-login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-id-pages-fab-login.vue?vue&type=template&id=5810e2be&\"","var components\ntry {\n  components = {\n    uniIdPagesUserProfile: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-id-pages/components/uni-id-pages-user-profile/uni-id-pages-user-profile\" */ \"@/uni_modules/uni-id-pages/components/uni-id-pages-user-profile/uni-id-pages-user-profile.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, item) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n\n      var _temp, _temp2\n\n      item.path ? _vm.navigateTo(item.path) : _vm.login_before(item.id, false)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\""],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///C:/Users/lsx37/Desktop/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?96d2","webpack:///C:/Users/lsx37/Desktop/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?325e","webpack:///C:/Users/lsx37/Desktop/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?d0f6","webpack:///C:/Users/lsx37/Desktop/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?68f9","uni-app:///uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue","webpack:///C:/Users/lsx37/Desktop/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?7ecf","webpack:///C:/Users/lsx37/Desktop/Fight-Covid-19/hello-uni/uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue?82e2"],"names":[],"mappings":"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","file":"uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uni-id-pages-fab-login.vue?vue&type=template&id=5810e2be&\"\nvar renderjs\nimport script from \"./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uni-id-pages-fab-login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-id-pages/components/uni-id-pages-fab-login/uni-id-pages-fab-login.vue\"\nexport default component.exports","export * from \"-!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-id-pages-fab-login.vue?vue&type=template&id=5810e2be&\"","var components\ntry {\n  components = {\n    uniIdPagesUserProfile: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-id-pages/components/uni-id-pages-user-profile/uni-id-pages-user-profile\" */ \"@/uni_modules/uni-id-pages/components/uni-id-pages-user-profile/uni-id-pages-user-profile.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, item) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n\n      var _temp, _temp2\n\n      item.path ? _vm.navigateTo(item.path) : _vm.login_before(item.id, false)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-id-pages-fab-login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"fab-login-box\">\r\n\t\t\t<view class=\"item\" v-for=\"(item,index) in servicesList\" :key=\"index\"\r\n\t\t\t\t@click=\"item.path?navigateTo(item.path):login_before(item.id,false)\">\r\n\t\t\t\t<image class=\"logo\" :src=\"item.logo\" mode=\"scaleToFill\"></image>\r\n\t\t\t\t<text class=\"login-title\">{{item.text}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<uni-id-pages-user-profile @next=\"doUserProfileNext\" ref=\"userProfile\"></uni-id-pages-user-profile>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport config from '@/uni_modules/uni-id-pages/config.js'\r\n\t//前一个窗口的页面地址。控制点击切换快捷登录方式是创建还是返回\n\timport {\n\t\t\tstore,\n\t\t\tmutations\n\t\t} from '@/uni_modules/uni-id-pages/common/store.js'\n\t\n\tconst db = uniCloud.database();\r\n\tconst usersTable = db.collection('uni-id-users')\r\n\tlet allServicesList = []\n\t\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\tagreements() {\r\n\t\t\t\tif (!config.agreements) {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tserviceUrl,\r\n\t\t\t\t\tprivacyUrl\r\n\t\t\t\t} = config.agreements\r\n\t\t\t\treturn [{\r\n\t\t\t\t\t\turl: serviceUrl,\r\n\t\t\t\t\t\ttitle: \"用户服务协议\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\turl: privacyUrl,\r\n\t\t\t\t\t\ttitle: \"隐私政策条款\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tagree: {\r\n\t\t\t\tget() {\n\t\t\t\t\treturn this.getParentComponent().agree\r\n\t\t\t\t},\r\n\t\t\t\tset(agree) {\n\t\t\t\t\tconsole.log('setAgree', agree);\n\t\t\t\t\treturn this.getParentComponent().agree = agree\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tservicesList: [{\r\n\t\t\t\t\t\t\"id\": \"username\",\r\n\t\t\t\t\t\t\"text\": \"账号登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/user.png\",\r\n\t\t\t\t\t\t\"path\": \"/uni_modules/uni-id-pages/pages/login/login-withpwd\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"smsCode\",\r\n\t\t\t\t\t\t\"text\": \"短信验证码\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/sms.png\",\r\n\t\t\t\t\t\t\"path\": \"/uni_modules/uni-id-pages/pages/login/login-withoutpwd?type=smsCode\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"weixin\",\r\n\t\t\t\t\t\t\"text\": \"微信登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/weixin.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"apple\",\r\n\t\t\t\t\t\t\"text\": \"苹果登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/apple.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"univerify\",\r\n\t\t\t\t\t\t\"text\": \"一键登录\",\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/univerify.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"taobao\",\r\n\t\t\t\t\t\t\"text\": \"淘宝登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/taobao.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"facebook\",\r\n\t\t\t\t\t\t\"text\": \"脸书登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/facebook.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"alipay\",\r\n\t\t\t\t\t\t\"text\": \"支付宝登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/alipay.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"qq\",\r\n\t\t\t\t\t\t\"text\": \"QQ登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/qq.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"google\",\r\n\t\t\t\t\t\t\"text\": \"谷歌登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/google.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"douyin\",\r\n\t\t\t\t\t\t\"text\": \"抖音登录\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/douyin.png\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"id\": \"sinaweibo\",\r\n\t\t\t\t\t\t\"text\": \"新浪微博\", //暂未提供该登录方式的接口示例\r\n\t\t\t\t\t\t\"logo\": \"/uni_modules/uni-id-pages/static/uni-fab-login/sinaweibo.png\",\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tuniverifyStyle: { //一键登录弹出窗的样式配置参数\r\n\t\t\t\t\t\"fullScreen\": true, // 是否全屏显示，true表示全屏模式，false表示非全屏模式，默认值为false。\r\n\t\t\t\t\t\"backgroundColor\": \"#ffffff\", // 授权页面背景颜色，默认值：#ffffff\r\n\t\t\t\t\t\"buttons\": { // 自定义登录按钮\r\n\t\t\t\t\t\t\"iconWidth\": \"45px\", // 图标宽度（高度等比例缩放） 默认值：45px\r\n\t\t\t\t\t\t\"list\": []\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"privacyTerms\": {\r\n\t\t\t\t\t\t\"defaultCheckBoxState\": false, // 条款勾选框初始状态 默认值： true   \r\n\t\t\t\t\t\t\"textColor\": \"#BBBBBB\", // 文字颜色 默认值：#BBBBBB  \r\n\t\t\t\t\t\t\"termsColor\": \"#5496E3\", //  协议文字颜色 默认值： #5496E3  \r\n\t\t\t\t\t\t\"prefix\": \"我已阅读并同意\", // 条款前的文案 默认值：“我已阅读并同意”  \r\n\t\t\t\t\t\t\"suffix\": \"并使用本机号码登录\", // 条款后的文案 默认值：“并使用本机号码登录”  \r\n\t\t\t\t\t\t\"privacyItems\": []\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tagree(agree) {\r\n\t\t\t\tthis.univerifyStyle.privacyTerms.defaultCheckBoxState = agree\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tlet servicesList = this.servicesList\r\n\t\t\tlet loginTypes = config.loginTypes\r\n\r\n\t\t\tservicesList = servicesList.filter(item => {\r\n\t\t\t\t\r\n\t\t\t\t// #ifndef APP\r\n\t\t\t\t//非app端去掉apple登录\r\n\t\t\t\tif (item.id == 'apple') {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef APP\r\n\t\t\t\t//去掉非ios系统上的apple登录\r\n\t\t\t\tif (item.id == 'apple' && uni.getSystemInfoSync().osName != 'ios') {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\treturn loginTypes.includes(item.id)\r\n\t\t\t})\r\n\t\t\t//处理一键登录\r\n\t\t\tif (loginTypes.includes('univerify')) {\r\n\t\t\t\tthis.univerifyStyle.privacyTerms.privacyItems = this.agreements\r\n\t\t\t\t//设置一键登录功能底下的快捷登录按钮\r\n\t\t\t\tservicesList.forEach(({\r\n\t\t\t\t\tid,\r\n\t\t\t\t\tlogo,\r\n\t\t\t\t\tpath\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tif (id != 'univerify') {\r\n\t\t\t\t\t\tthis.univerifyStyle.buttons.list.push({\r\n\t\t\t\t\t\t\t\"iconPath\": logo,\r\n\t\t\t\t\t\t\t\"provider\": id,\r\n\t\t\t\t\t\t\tpath //路径用于点击快捷按钮时判断是跳转页面\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t//\tconsole.log(servicesList);\r\n\r\n\t\t\t//去掉当前页面对应的登录选项\r\n\t\t\tthis.servicesList = servicesList.filter(item => {\r\n\t\t\t\tlet path = item.path ? item.path.split('?')[0] : '';\r\n\t\t\t\treturn path != this.getRoute(1)\r\n\t\t\t})\r\n\t\t\t//console.log('servicesList', servicesList, this.servicesList);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetParentComponent(){\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\treturn this.$parent;\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\treturn this.$parent.$parent;\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tsetUserInfo(e) {\r\n\t\t\t\tconsole.log('setUserInfo', e);\r\n\t\t\t},\r\n\t\t\tgetRoute(n = 0) {\r\n\t\t\t\tlet pages = getCurrentPages();\r\n\t\t\t\t// console.log('route-pages-length', pages.length);\r\n\t\t\t\tif (n > pages.length) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t\treturn '/' + pages[pages.length - n].route\r\n\t\t\t},\r\n\t\t\tnavigateTo(path) {\r\n\t\t\t\t//console.log('比较', this.getRoute(1),this.getRoute(2), path)\r\n\t\t\t\tif (this.getRoute(1) == path.split('?')[0] && this.getRoute(1) ==\r\n\t\t\t\t\t'/uni_modules/uni-id-pages/pages/login/login-withoutpwd') {\r\n\t\t\t\t\t//如果要被打开的页面已经打开，且这个页面是 /uni_modules/uni-id-pages/pages/index/index 则把类型参数传给他\r\n\t\t\t\t\tlet type = path.split('?')[1].split('=')[1]\r\n\t\t\t\t\tuni.$emit('uni-id-pages-set-login-type', type)\r\n\t\t\t\t} else if (this.getRoute(2) == path) { // 如果上一个页面就是，马上要打开的页面，直接返回。防止重复开启\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t} else if (this.getRoute(1) != path) {\r\n\t\t\t\t\t//console.log(3);\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: path,\r\n\t\t\t\t\t\tanimationType: 'slide-in-left',\r\n\t\t\t\t\t\tcomplete(e) {\r\n\t\t\t\t\t\t\t// console.log(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('出乎意料的情况,path：' + path);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync login_before(type, navigateBack = true) {\r\n\t\t\t\tconsole.log(type);\n\t\t\t\t//提示空实现\r\n\t\t\t\tif ([\"qq\",\r\n\t\t\t\t\t\t\"xiaomi\",\r\n\t\t\t\t\t\t\"sinaweibo\",\r\n\t\t\t\t\t\t\"taobao\",\r\n\t\t\t\t\t\t\"facebook\",\r\n\t\t\t\t\t\t\"google\",\r\n\t\t\t\t\t\t\"alipay\",\r\n\t\t\t\t\t\t\"douyin\",\r\n\t\t\t\t\t].includes(type)) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '该登录方式暂未实现，欢迎提交pr',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//检查当前环境是否支持这种登录方式\r\n\t\t\t\t// #ifdef APP\r\n\t\t\t\tlet isAppExist = true\r\n\t\t\t\tawait new Promise((callback) => {\r\n\t\t\t\t\tplus.oauth.getServices(oauthServices => {\r\n\t\t\t\t\t\tlet index = oauthServices.findIndex(e => e.id == type)\r\n\t\t\t\t\t\tif(index != -1){\r\n\t\t\t\t\t\t\tisAppExist = oauthServices[index].nativeClient\r\n\t\t\t\t\t\t\tcallback()\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '当前设备不支持此登录，请选择其他登录方式',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, err => {\r\n\t\t\t\t\t\tthrow new Error('获取服务供应商失败：' + JSON.stringify(err))\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tif (\r\n\t\t\t\t\t// #ifdef APP\r\n\t\t\t\t\t!isAppExist\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t\t//非app端使用了，app特有登录方式\r\n\t\t\t\t\t// #ifndef APP\r\n\t\t\t\t\t[\"univerify\",\"apple\"].includes(type)\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '当前设备不支持此登录，请选择其他登录方式',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//判断是否需要弹出隐私协议授权框\r\n\t\t\t\tconsole.log(type, this.agree);\n\t\t\t\tlet needAgreements = (config?.agreements?.scope || []).includes('register')\n\t\t\t\tconsole.log({\r\n\t\t\t\t\tneedAgreements\r\n\t\t\t\t});\r\n\t\t\t\tif (type != 'univerify' && needAgreements && !this.agree) {\n\t\t\t\t\tlet agreementsRef = this.getParentComponent().$refs.agreements\r\n\t\t\t\t\treturn agreementsRef.popup(() => {\n\t\t\t\t\t\tconsole.log(type, navigateBack);\r\n\t\t\t\t\t\tthis.login_before(type, navigateBack)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// #ifdef H5\n\t\t\t\t\tif(type == 'weixin'){\n\t\t\t\t\t\t// console.log('开始微信网页登录');\n\t\t\t\t\t\tlet redirectUrl = location.protocol +'//'+ \n\t\t\t\t\t\t\t\t\t\tdocument.domain + \n\t\t\t\t\t\t\t\t\t\t(window.location.href.includes('#')?'/#':'') +\n\t\t\t\t\t\t\t\t\t\t'/uni_modules/uni-id-pages/pages/login/login-withoutpwd?is_weixin_redirect=true&type=weixin'\n\t\t\t\t\t\tconsole.log('redirectUrl----',redirectUrl);\n\t\t\t\t\t\tlet ua = window.navigator.userAgent.toLowerCase();\n\t\t\t\t\t\tif (ua.match(/MicroMessenger/i) == 'micromessenger'){\n\t\t\t\t\t\t\t// console.log('在微信公众号内');\n\t\t\t\t\t\t\treturn window.open(`https://open.weixin.qq.com/connect/oauth2/authorize?\n\t\t\t\t\t\t\t\t\t\tappid=${config.appid.weixin.h5}\n\t\t\t\t\t\t\t\t\t\t&redirect_uri=${encodeURIComponent(redirectUrl)}\n\t\t\t\t\t\t\t\t\t\t&response_type=code\n\t\t\t\t\t\t\t\t\t\t&scope=snsapi_userinfo\n\t\t\t\t\t\t\t\t\t\t&state=STATE&connect_redirect=1#wechat_redirect`);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t// console.log('非微信公众号内');\n\t\t\t\t\t\t\treturn location.href = `https://open.weixin.qq.com/connect/qrconnect?appid=${config.appid.weixin.web}\n\t\t\t\t\t\t\t\t\t\t\t&redirect_uri=${encodeURIComponent(redirectUrl)}\n\t\t\t\t\t\t\t\t\t\t\t&response_type=code&scope=snsapi_login&state=STATE#wechat_redirect`\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tif (type == 'univerify') {\r\n\t\t\t\t\tlet univerifyManager = uni.getUniverifyManager()\r\n\t\t\t\t\tlet onButtonsClickFn = async res => {\r\n\t\t\t\t\t\tconsole.log('点击了第三方登录，provider：', res, res.provider, this.univerifyStyle.buttons.list);\r\n\t\t\t\t\t\t//同步一键登录弹出层隐私协议框是否打勾\r\n\t\t\t\t\t\tlet agree = (await uni.getCheckBoxState())[1].state\r\n\t\t\t\t\t\t//console.log('agree',agree);\r\n\t\t\t\t\t\tthis.agree = agree\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tpath\r\n\t\t\t\t\t\t} = this.univerifyStyle.buttons.list[res.index]\r\n\t\t\t\t\t\tif (path) {\r\n\t\t\t\t\t\t\tthis.navigateTo(path)\r\n\t\t\t\t\t\t\tcloseUniverify()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (agree) {\r\n\t\t\t\t\t\t\t\tcloseUniverify()\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t//console.log('login_before');\r\n\t\t\t\t\t\t\t\t\tthis.login_before(res.provider)\r\n\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//console.log(\"你未同意隐私政策协议\");\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"你未同意隐私政策协议\",\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfunction closeUniverify() {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuniverifyManager.close()\r\n\t\t\t\t\t\t// 取消订阅自定义按钮点击事件\r\n\t\t\t\t\t\tuniverifyManager.offButtonsClick(onButtonsClickFn)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 订阅自定义按钮点击事件\r\n\t\t\t\t\tuniverifyManager.onButtonsClick(onButtonsClickFn)\r\n\t\t\t\t\t// 调用一键登录弹框\r\n\t\t\t\t\treturn univerifyManager.login({\r\n\t\t\t\t\t\t\"univerifyStyle\": this.univerifyStyle,\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tconsole.log('login success', res)\r\n\t\t\t\t\t\t\tthis.login(res.authResult, 'univerify')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: JSON.stringify(err),\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcomplete: async e => {\r\n\t\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t//同步一键登录弹出层隐私协议框是否打勾\r\n\t\t\t\t\t\t\tthis.agree = (await uni.getCheckBoxState())[1].state\r\n\t\t\t\t\t\t\t// 取消订阅自定义按钮点击事件\r\n\t\t\t\t\t\t\tuniverifyManager.offButtonsClick(onButtonsClickFn)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\t\"provider\": type,\r\n\t\t\t\t\t\"onlyAuthorize\": true,\r\n\t\t\t\t\t// #ifdef APP\r\n\t\t\t\t\t\"univerifyStyle\": this.univerifyStyle,\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tsuccess: async e => {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t\tif (type == 'apple') {\r\n\t\t\t\t\t\t\tlet res = await this.getUserInfo({\r\n\t\t\t\t\t\t\t\tprovider: \"apple\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tObject.assign(e.authResult, res.userInfo)\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.login(type == 'weixin' ? {\r\n\t\t\t\t\t\t\tcode: e.code\r\n\t\t\t\t\t\t} : e.authResult, type)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: async (err) => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlogin(params, type) { //联网验证登录\n\t\t\t\tconsole.log('执行登录开始----');\r\n\t\t\t\tconsole.log({\r\n\t\t\t\t\tparams,\r\n\t\t\t\t\ttype\r\n\t\t\t\t});\r\n\t\t\t\t//toLowerCase\r\n\t\t\t\tlet action = 'loginBy' + type.trim().toLowerCase().replace(type[0], type[0].toUpperCase())\r\n\t\t\t\tconst uniIdCo = uniCloud.importObject(\"uni-id-co\",{\r\n\t\t\t\t\tcustomUI:true\r\n\t\t\t\t})\r\n\t\t\t\tuniIdCo[action](params).then(result => {\r\n\t\t\t\t\tconsole.log(\"login-result\", result);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t//如果是微信小程序端的微信登录，且为首次登录，就弹出获取微信昵称+头像用于绑定资料\r\n\t\t\t\t\tif (type == 'weixin' && result.type == \"register\") {\n\t\t\t\t\t\tmutations.loginSuccess({\r\n\t\t\t\t\t\t\t...result,\r\n\t\t\t\t\t\t\tshowToast: false,\r\n\t\t\t\t\t\t\tautoBack: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn this.$refs.userProfile.open(result.uid)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\tresult.loginType = type\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tmutations.loginSuccess(result)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(e=>{\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: e.message,\r\n\t\t\t\t\t\tconfirmText:\"知道了\",\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.finally(e => {\r\n\t\t\t\t\tif (type == 'univerify') {\r\n\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdoUserProfileNext() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tmutations.loginSuccess()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getUserInfo(e) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\t...e,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tresolve(res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: JSON.stringify(err),\r\n\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treject(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t/* #ifndef APP-NVUE */\r\n\t.fab-login-box,\r\n\t.item {\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t.fab-login-box {\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 750rpx;\r\n\t\tjustify-content: space-around;\r\n\t\tposition: fixed;\n\t\tleft: 0;\r\n\t}\r\n\t\r\n\t.item {\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 200rpx;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t/* #ifndef APP-NVUE */\r\n\t@media screen and (min-width: 690px) {\r\n\t\t.fab-login-box {\r\n\t\t\tmax-width: 500px;\r\n\t\t\tmargin-left: calc(50% - 250px);\r\n\t\t}\r\n\t\t.item {\r\n\t\t\theight: 160rpx;\r\n\t\t}\r\n\t}\r\n\t\r\n\t@media screen and (max-width: 690px) {\r\n\t\t.fab-login-box {\r\n\t\t\tbottom: 10rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* #endif */\r\n\r\n\t\n\r\n\t.logo {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmax-width: 40px;\r\n\t\tmax-height: 40px;\r\n\t\tborder-radius: 100%;\r\n\t\tborder: solid 1px #F6F6F6;\r\n\t}\r\n\r\n\r\n\t.login-title {\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 6px;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 10px;\r\n\t\twidth: 70px;\r\n\t}\r\n</style>\r\n","import mod from \"-!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-id-pages-fab-login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\BrowserDownLoadLSX\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-id-pages-fab-login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1665234499078\n      var cssReload = require(\"E:/BrowserDownLoadLSX/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> 361040524738884b49511600146055a3e6332e5d
